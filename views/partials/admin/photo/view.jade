//
   Created by lucavgobbi on 4/4/15.

form(name='form', novalidate=)
    div(class='container')
        div(class='row')
            p(class='navbar-text')
                a(class='btn btn-success', data-loading-text='Saving...', ng-click='savePhoto($event)')
                    i(class='fa fa-save')  Save photo
        div(class='row')
            div(class='col-md-6')
                div(class='form-group', ng-class='{ "has-error": form.title.$error.required }')
                    label Title
                    input(ng-model='photo.title', name='title', class='form-control', placeholder='Title', required,
                    data-toggle='tooltip' data-placement='top', title='This will be the photo title')
                    div(ng-show='form.title.$error.required') Title is required
                div(class='form-group')
                    label Short Description
                    input(ng-model='photo.shortDescription', class='form-control', placeholder='Short Description',
                    data-toggle='tooltip' data-placement='top', title='Should describe in a few words what the photo is about')
                div(class='form-group')
                    label Description
                    input(ng-model='photo.description', class='form-control', placeholder='Description',
                    data-toggle='tooltip' data-placement='top', title='A full description about the photo')
                div(class='form-group')
                    label Date Taken
                    p(class='input-group')
                        input(ng-model='photo.dateTaken', class='form-control', datepicker-popup='{{format}}', is-open='opened', show-button-bar='false', ng-required='true')
                        span(class='input-group-btn')
                            button(class='btn btn-default', type='button', ng-click='openDatePicker($event)')
                                i(class='fa fa-calendar')
                div(class='panel panel-default')
                    div(class='panel-heading')
                        h3(class='panel-title') Albums
                            div(class='pull-right')
                                a(class='btn btn-sm btn-default', data-loading-text='Loading Albums...' ng-click='openAlbumDialog($event)')
                                    i(class='fa fa-plus')  Add photo to album
                            div(class='clearfix')

            div(class='col-md-6')
                div(class='form-group', ng-class='{ "has-error": form.url.$error.required }')
                    label Photo URL
                    input(ng-model='photo.url', ng-change='reloadCropper()' name='url', class='form-control', placeholder='Photo URL', required)
                    div(ng-show='form.url.$error.required') URL is required
                    img(ng-src='{{photo.url}}', class='full-width')
                div(class='form-group')
                    label Thumbnail
                    img(id='cropper-img', class='medium-thumbs', ng-src='{{ photo.url }}',
                    title='{{ photo.title }}')

        // Album Dialog Modal

        div(class='modal fade', id='albumDialog', role='dialog')
            div(class='modal-dialog')
                div(class='modal-content')
                    div(class='modal-header')
                        h3(class='modal-title') Add photo to album
                    div(class='modal-body')
                        input(class='form-control', type='text', ng-model='albumToAdd', typeahead='album as album.title for album in albums | filter:{ title: $viewValue} | limitTo:8')
                    div(class='modal-footer')
                        button(class='btn btn-sm btn-success', ng-click='addPhotoToAlbum()') Add photo to album {{ albumToAdd.title }}

